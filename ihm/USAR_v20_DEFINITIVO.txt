â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              â­ USAR ESTE ARQUIVO! â­
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ CLP_10_ROTINAS_v20_SIMPLES.sup

   MD5: 55b3a4b10d1fa7ffca4aec5b17fdacee
   Tamanho: 29 KB
   Status: âœ… INSTRUÃ‡Ã•ES VÃLIDAS - PRODUÃ‡ÃƒO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VERSÃƒO CORRIGIDA - v19 DAVA ERRO!

Problema v19: Usava instruÃ§Ãµes inexistentes (NOT, ADD, MUL, DIV, OR)
SoluÃ§Ã£o v20: Apenas instruÃ§Ãµes vÃ¡lidas do Atos MPC4004

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ INSTRUÃ‡Ã•ES USADAS (TODAS VÃLIDAS):

âœ… MOV, MOVK  - Copiar valores
âœ… SETR, OUT  - Setar bits
âœ… CNT        - Contadores
âœ… CMP        - ComparaÃ§Ãµes
âœ… RET        - Retorno

âŒ v19 ERRADO (instruÃ§Ãµes que NÃƒO existem):
  NOT, ADD, SUB, MUL, DIV, OR, AND, RSTR

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ CONTEÃšDO v20:

ROT0-4: LÃ³gica original (PRESERVADA 100%)
  âœ… ROT0 (10 linhas) - LÃ³gica principal
  âœ… ROT1 (7 linhas)  - Auxiliar
  âœ… ROT2 (12 linhas) - Dobras
  âœ… ROT3 (8 linhas)  - SequÃªncia
  âœ… ROT4 (14 linhas) - Ã‚ngulos

ROT5-9: LÃ³gica simplificada para IHM Web
  âœ… ROT5 (6 linhas)  - Heartbeat (MOV, OUT)
  âœ… ROT6 (18 linhas) - Espelhamento I/O (MOV)
  âœ… ROT7 (12 linhas) - Inversor (MOV, CNT)
  âœ… ROT8 (15 linhas) - EstatÃ­sticas (CNT, MOV, OUT)
  âœ… ROT9 (20 linhas) - EmulaÃ§Ã£o teclas (SETR, CNT)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ FUNCIONALIDADES (SIMPLIFICADAS):

ROT5 - HEARTBEAT (08C0-08C4):
  âœ“ Copia estado Modbus slave (00BE â†’ 08C1)
  âœ“ Copia ciclo ativo (0191 â†’ 08C2)
  âœ“ Copia modo manual (02FF â†’ 08C3)
  âœ“ Bit pulsante (08C0) via OUT + timer 0400
  âœ“ Copia timer 0400 para 08C4 (watchdog)

ROT6 - ESPELHAMENTO (0860-0871):
  âœ“ Copia E0-E7 â†’ 0860-0867 (MOV)
  âœ“ Copia S0-S7 â†’ 0868-086F (MOV)
  âœ“ Copia encoder LSW/MSW â†’ 0870/0871 (MOV)
  â†’ IHM Web pode ler I/O e encoder!

ROT7 - INVERSOR (0880-0887):
  âœ“ Copia tensÃ£o inversor (06E0 â†’ 0880)
  âœ“ Copia classe velocidade (0900 â†’ 0881)
  âœ“ Copia corrente motor (05F1 â†’ 0882)
  âœ“ Copia tensÃ£o motor (05F2 â†’ 0883)
  âœ“ Copia status Run (S0 â†’ 0885)
  âœ“ Copia alarme (E7 â†’ 0886)
  âœ“ Contador tempo (CNT 0413 â†’ 0887)
  â†’ Monitoramento inversor via Modbus!

ROT8 - ESTATÃSTICAS (08A0-08B0):
  âœ“ Timestamp minutos (CNT 0410 â†’ 08A0)
  âœ“ CÃ³digo alarme (08A2: 0=OK, 1=emerg, 2=inversor)
  âœ“ Total peÃ§as (CNT 0411 â†’ 08AD)
  âœ“ Tempo ciclo (CNT 0412 â†’ 08AF)
  âœ“ Status bit (OUT 08B0 se ciclo ativo)
  â†’ ProduÃ§Ã£o e logs via Modbus!

ROT9 - TECLAS (08C0-08D0, contador 0414):
  âœ“ K0-K9 via SETR (08C0-08C9 â†’ 00A9-00A0)
  âœ“ S1, S2, ENTER, ESC, EDIT, Setas
  âœ“ Contador comandos (CNT 0414)
  â†’ Controle remoto via IHM Web!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ LIMITAÃ‡Ã•ES vs v19:

v19 (NÃƒO FUNCIONA):
  - CÃ¡lculo potÃªncia (I Ã— V / 100)
  - OperaÃ§Ãµes aritmÃ©ticas complexas
  - Watchdog incremental 32-bit
  - Status consolidado com OR

v20 (FUNCIONA):
  - Apenas cÃ³pias de valores (MOV)
  - Contadores simples (CNT)
  - Sem cÃ¡lculos matemÃ¡ticos
  - PotÃªncia DEVE ser calculada no Python!

SOLUÃ‡ÃƒO: Python faz cÃ¡lculos complexos!
```python
# Ler valores brutos do CLP
corrente = client.read_register(0x0882)
tensao = client.read_register(0x0883)

# Calcular potÃªncia no servidor
potencia = (corrente * tensao) / 100
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ TESTAR NO WINSUP:

1. Abrir WinSUP 2
2. Arquivo â†’ Abrir â†’ CLP_10_ROTINAS_v20_SIMPLES.sup
3. Verificar Ã¡rvore mostra ROT0-ROT9
4. Abrir ROT5-9 â†’ Deve abrir SEM ERROS!
5. Compilar â†’ Deve compilar SEM ERROS!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ÃREA MODBUS (Resumo):

HEARTBEAT:
  08C0 - Bit pulsante (via timer)
  08C1 - Modbus ativo
  08C2 - Ciclo ativo
  08C3 - Modo manual
  08C4 - Watchdog (timer 0400)

ESPELHAMENTO I/O:
  0860-0867 - E0-E7
  0868-086F - S0-S7
  0870/0871 - Encoder LSW/MSW

INVERSOR:
  0880 - TensÃ£o inversor
  0881 - Classe velocidade
  0882 - Corrente
  0883 - TensÃ£o motor
  0885 - Run
  0886 - Alarme
  0887 - Tempo operaÃ§Ã£o (contador 0413)

ESTATÃSTICAS:
  08A0 - Timestamp (contador 0410)
  08A2 - Ãšltimo alarme
  08AD - Total peÃ§as (contador 0411)
  08AF - Tempo ciclo (contador 0412)
  08B0 - Status bit (ciclo ativo)

TECLAS:
  08C0-08C9 - K0-K9
  08CA-08D0 - S1, S2, ENTER, ESC, EDIT, Setas
  (contador 0414 para total comandos)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š CONTADORES USADOS:

0400 - Timer para heartbeat/watchdog
0410 - Timestamp minutos (1 min reset)
0411 - Total peÃ§as (borda ciclo)
0412 - Tempo ciclo (reset fim ciclo)
0413 - Tempo operaÃ§Ã£o inversor
0414 - Total comandos teclas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ† EVOLUÃ‡ÃƒO:

v12-v17: âŒ Estrutura quebrada
    â†“
v18:     âœ… Estrutura vÃ¡lida (RET)
    â†“
v19:     âŒ InstruÃ§Ãµes invÃ¡lidas (NOT, ADD, MUL...)
    â†“
v20:     âœ… INSTRUÃ‡Ã•ES VÃLIDAS - FUNCIONA! ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersÃµes obsoletas:
  - v12-v17 (estrutura quebrada)
  - v18 (apenas RET)
  - v19 (instruÃ§Ãµes invÃ¡lidas)

VersÃ£o atual (USAR ESTA):
  - âœ… v20_SIMPLES

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
